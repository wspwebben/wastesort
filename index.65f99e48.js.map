{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-74c04dc2d3ff1d41.js","scripts/consts.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-33f4eb9e82e839dd.js","node_modules/@parcel/runtime-js/lib/runtime-4878e664a9e414a0.js","node_modules/@parcel/runtime-js/lib/runtime-f1dbd55cf1a74aea.js","node_modules/@parcel/runtime-js/lib/runtime-e4188aa8783f13b1.js","images/boxes/body/index.js","node_modules/@parcel/runtime-js/lib/runtime-50d81985479d337b.js","node_modules/@parcel/runtime-js/lib/runtime-c66d8fa62438713f.js","node_modules/@parcel/runtime-js/lib/runtime-9cfa02116068783f.js","node_modules/@parcel/runtime-js/lib/runtime-5724518fb4885986.js","images/boxes/top/index.js","scripts/boxes.js","scripts/random.js","scripts/array.js","scripts/item.js","scripts/score.js","scripts/countdown.js","scripts/notification.js","scripts/game.js","scripts/flip.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"a0H7v\\\":\\\"index.65f99e48.js\\\",\\\"1jfi8\\\":\\\"blue.73ec7683.png\\\",\\\"4ZRlr\\\":\\\"red.2e247d05.png\\\",\\\"700GW\\\":\\\"green.8302779a.png\\\",\\\"h8OWe\\\":\\\"yellow.7cd4362b.png\\\",\\\"5rAac\\\":\\\"blue.80f33f87.png\\\",\\\"hDU98\\\":\\\"red.1feb1b01.png\\\",\\\"1iQXm\\\":\\\"green.b9c6acd6.png\\\",\\\"6XsSE\\\":\\\"yellow.5a5dfba9.png\\\"}\"));","export const BoxType = {\n  Plastic: 'plastic',\n  Glass: 'glass',\n  Paper: 'paper',\n  Organic: 'organic',\n}\n\nexport const BOXES = [\n  {\n    type: BoxType.Plastic,\n    label: 'Пластик',\n    color: 'red',\n  },\n  {\n    type: BoxType.Glass,\n    label: 'Стекло',\n    color: 'blue',\n  },\n  {\n    type: BoxType.Paper,\n    label: 'Бумага',\n    color: 'yellow',\n  },\n  {\n    type: BoxType.Organic,\n    label: 'Органика',\n    color: 'green',\n  },\n];\n\nexport const ITEMS = [\n  {\n    type: BoxType.Plastic,\n    label: 'Пластиковая бутылка',\n  },\n  {\n    type: BoxType.Glass,\n    label: 'Стеклянная бутылка',\n  },\n  {\n    type: BoxType.Paper,\n    label: 'Салфетка',\n  },\n  {\n    type: BoxType.Organic,\n    label: 'Шкурка банана',\n  },\n  {\n    type: BoxType.Organic,\n    label: 'Огрызок яблока',\n  },\n]\n","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('a0H7v') + require('./helpers/bundle-manifest').resolve(\"1jfi8\");","module.exports = require('./helpers/bundle-url').getBundleURL('a0H7v') + require('./helpers/bundle-manifest').resolve(\"4ZRlr\");","module.exports = require('./helpers/bundle-url').getBundleURL('a0H7v') + require('./helpers/bundle-manifest').resolve(\"700GW\");","module.exports = require('./helpers/bundle-url').getBundleURL('a0H7v') + require('./helpers/bundle-manifest').resolve(\"h8OWe\");","import blue from './blue.png';\nimport red from './red.png';\nimport green from './green.png';\nimport yellow from './yellow.png';\n\nexport const body = {\n    blue,\n    red,\n    green,\n    yellow\n};\n","module.exports = require('./helpers/bundle-url').getBundleURL('a0H7v') + require('./helpers/bundle-manifest').resolve(\"5rAac\");","module.exports = require('./helpers/bundle-url').getBundleURL('a0H7v') + require('./helpers/bundle-manifest').resolve(\"hDU98\");","module.exports = require('./helpers/bundle-url').getBundleURL('a0H7v') + require('./helpers/bundle-manifest').resolve(\"1iQXm\");","module.exports = require('./helpers/bundle-url').getBundleURL('a0H7v') + require('./helpers/bundle-manifest').resolve(\"6XsSE\");","import blue from './blue.png';\nimport red from './red.png';\nimport green from './green.png';\nimport yellow from './yellow.png';\n\nexport const top = {\n    blue,\n    red,\n    green,\n    yellow\n};\n","import { BOXES } from './consts'\n\nimport { body, top } from '../images/boxes'\n\nconst BLOCK_CLASSNAME = 'js-boxes'\n\nconst $container = document.querySelector(`.${BLOCK_CLASSNAME}`)\nconst $template = $container.querySelector(`.${BLOCK_CLASSNAME}__template`)\n\nconst createBoxBlock = (box) => {\n    const $block = $template.content.cloneNode(true)\n\n    const $button = $block.querySelector(`.${BLOCK_CLASSNAME}__button`)\n    const $label = $block.querySelector(`.${BLOCK_CLASSNAME}__label`)\n    const $top = $block.querySelector(`.${BLOCK_CLASSNAME}__top`)\n    const $body = $block.querySelector(`.${BLOCK_CLASSNAME}__body`)\n\n    $button.dataset.type = box.type;\n    $button.classList.add(`is-${box.color}`);\n    $label.textContent = box.label;\n    $top.src = top[box.color];\n    $body.src = body[box.color];\n\n    return $block;\n}\n\nconst fillBoxesContainer = () => {\n    const $boxes = BOXES.map(createBoxBlock);\n\n    $container.replaceChildren(...$boxes);\n}\n\nconst defineBoxSelectionHandler = (selectBox) => ({ target }) => {\n    const $box = target.closest(`.${BLOCK_CLASSNAME}__button`)\n    if (!$box) {\n        return;\n    }\n\n    const $dump = $box.querySelector(`.${BLOCK_CLASSNAME}__dump`)\n\n    const moveToDump = ($item) => {\n        $dump.appendChild($item)\n        $box.classList.add('is-dumping')\n    }\n\n    const removeFromDump = ($item) => {\n        $box.classList.remove('is-dumping')\n        $dump.removeChild($item)\n    }\n\n    const { type } = $box.dataset;\n\n    selectBox({\n        type,\n        moveToDump,\n        removeFromDump,\n    });\n}\n\nexport const initBoxes = (onBoxSelect) => {\n    fillBoxesContainer();\n\n    $container.addEventListener('click', defineBoxSelectionHandler(onBoxSelect))\n}\n\nexport const setInteractivity = (enabled) => {\n    $container.classList.toggle('is-disabled', !enabled)\n}\n","// https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array\n// The de-facto unbiased shuffle algorithm is the Fisher-Yates (aka Knuth) Shuffle.\n\nexport const shuffle = (array) => {\n    let currentIndex = array.length,  randomIndex;\n  \n    // While there remain elements to shuffle...\n    while (currentIndex != 0) {\n  \n      // Pick a remaining element...\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex--;\n  \n      // And swap it with the current element.\n      [array[currentIndex], array[randomIndex]] = [\n        array[randomIndex], array[currentIndex]]\n    }\n  \n    return array;\n}\n\nexport const getRandom = (start, end) => {\n    return Math.floor(\n        Math.random() * (end - start + 1) + start\n    )\n}","import { getRandom } from './random'\n\nexport const takeRandomElement = (source) => {\n    const index = getRandom(0, source.length - 1)\n    const [item] = source.splice(index, 1)\n  \n    return item\n}\n","import { ITEMS } from './consts'\nimport { shuffle } from './random'\nimport { takeRandomElement } from './array';\n\nconst BLOCK_CLASSNAME = 'js-item'\nconst REFILL_COUNT = 2;\n\nconst $container = document.querySelector(`.${BLOCK_CLASSNAME}`)\nconst $template = $container.querySelector(`.${BLOCK_CLASSNAME}__template`)\n\nlet itemsPool = shuffle([...ITEMS])\nlet currentItem = takeRandomElement(itemsPool);\n\nconst takeNewElement = () => {\n    currentItem = takeRandomElement(itemsPool);\n    \n    if (itemsPool.length <= REFILL_COUNT) {\n        itemsPool.push(...ITEMS)\n        shuffle(itemsPool)\n    }\n}\n\nconst createItemBlock = (item) => {\n    const $block = $template.content.cloneNode(true)\n\n    const $content = $block.querySelector(`.${BLOCK_CLASSNAME}__content`)\n\n    $content.textContent = item.label;\n    $content.dataset.type = item.type;\n\n    return $block;\n}\n\nexport const addItem = () => {\n    takeNewElement();\n    const $item = createItemBlock(currentItem)\n\n    $container.replaceChildren($item)\n}\n\nexport const getCurrentItem = () => currentItem\nexport const getItemElement = () => $container.querySelector(`.${BLOCK_CLASSNAME}__content`)\n","const BLOCK_CLASSNAME = 'js-score';\n\nconst $container = document.querySelector(`.${BLOCK_CLASSNAME}`);\nconst $right = $container.querySelector(`.${BLOCK_CLASSNAME}__right`)\nconst $wrong = $container.querySelector(`.${BLOCK_CLASSNAME}__wrong`)\nconst $badges = $container.querySelectorAll(`.${BLOCK_CLASSNAME}__badge`)\n\nconst defineScore = () => ({\n    right: 0,\n    wrong: 0,  \n})\n\nlet score = defineScore();\n\nconst increaseRight = () => {\n    score.right += 1\n\n    $right.textContent = score.right\n}\n\nconst increaseWrong = () => {\n    score.wrong += 1\n\n    $wrong.textContent = score.wrong\n}\n\nconst reset = () => {\n    score = defineScore()\n\n    $right.textContent = 0\n    $wrong.textContent = 0\n}\n\nconst setVisibility = (visible) => {\n    $badges.forEach($badge => $badge.hidden = !visible)\n}\n\nexport const initScore = () => {\n    return {\n        getScore: () => score,\n        increaseRight,\n        increaseWrong,\n        reset,\n        setVisibility,\n    }\n}\n","const BLOCK_CLASSNAME = 'js-countdown';\n\nconst $container = document.querySelector(`.${BLOCK_CLASSNAME}`);\nconst $elapsed = $container.querySelector(`.${BLOCK_CLASSNAME}__elapsed`);\nconst $remaining = $container.querySelector(`.${BLOCK_CLASSNAME}__remaining`);\n\nexport const initCountdown = (timeLimit) => {\n    const circleLength = Math.ceil($elapsed.getTotalLength());\n    $container.classList.remove('is-done')\n    $remaining.setAttribute('stroke-dasharray', `${circleLength} ${circleLength}`)\n    \n    requestAnimationFrame(() => {\n\n        requestAnimationFrame(() => {\n            $remaining.style.transitionDuration = `${timeLimit}s`\n            $remaining.setAttribute('stroke-dasharray', `0 ${circleLength}`)\n        })\n    })\n\n    return new Promise((resolve) => {\n        $remaining.addEventListener('transitionend', () => {\n            $remaining.style.transitionDuration = ''\n\n            $container.classList.add('is-done')\n    \n            resolve()\n        }, { once: true })\n    })\n}\n","const BLOCK_CLASSNAME = 'js-notification';\n\nconst $container = document.querySelector(`.${BLOCK_CLASSNAME}`);\nconst $right = $container.querySelector(`.${BLOCK_CLASSNAME}__right`);\nconst $wrong = $container.querySelector(`.${BLOCK_CLASSNAME}__wrong`);\n\nconst defineNotification = ($notification) => () => {\n    $notification.classList.add('is-shown');\n\n    $notification.addEventListener('animationend', () => {\n        $notification.classList.remove('is-shown');\n    }, { once: true });\n}\n\nexport const notifyRight = defineNotification($right)\nexport const notifyWrong = defineNotification($wrong)\n","import { initBoxes, setInteractivity } from './boxes'\nimport { addItem, getCurrentItem, getItemElement } from './item';\nimport { initScore } from './score';\nimport { initCountdown } from './countdown';\nimport { notifyRight, notifyWrong } from './notification';\nimport { animate } from './flip';\n\nconst score = initScore();\n\nconst BLOCK_CLASSNAME = 'js-game';\nconst GAME_TIME = 60;\n\nconst $container = document.querySelector(`.${BLOCK_CLASSNAME}`);\nconst $item = $container.querySelector(`.${BLOCK_CLASSNAME}__item`)\nconst $start = $container.querySelector(`.${BLOCK_CLASSNAME}__start`)\nconst $restart = $container.querySelector(`.${BLOCK_CLASSNAME}__restart`)\n\nconst stopGame = () => {\n    $item.hidden = true\n    $restart.hidden = false\n    setInteractivity(false)\n}\n\nconst startGame = () => {\n    $start.hidden = true\n    $item.hidden = false\n\n    score.setVisibility(true)\n    setInteractivity(true)\n    addItem();\n    initCountdown(GAME_TIME).then(() => {\n        stopGame()\n    })\n}\n\nconst restartGame = () => {\n    $restart.hidden = true\n    score.reset()\n    \n    startGame()\n}\n\nconst checkAnswer = (itemType, boxType) => {\n    if (itemType === boxType) {\n        score.increaseRight()\n        notifyRight()\n    } else {\n        score.increaseWrong()\n        notifyWrong()\n    }\n}\n\nconst selectBox = ({ type, moveToDump, removeFromDump }) => {\n    const $item = getItemElement();\n    const item = getCurrentItem();\n\n    setInteractivity(false)\n\n    checkAnswer(item.type, type);\n\n    animate({\n        element: $item,\n        trigger: moveToDump,\n        cleanup: removeFromDump,\n    }).then(() => {\n        addItem()\n        setInteractivity(true)\n    })\n}\n\nexport const initGame = () => {\n    initBoxes(selectBox)\n    setInteractivity(false)\n    \n    $start.addEventListener('click', startGame)\n    $restart.addEventListener('click', restartGame)\n}\n\n","const calculateTransform = (first, last) => {\n    const deltaX = first.left - last.left;\n    const deltaY = first.top - last.top;\n    const deltaW = first.width / last.width;\n    const deltaH = first.height / last.height;\n\n    return `\n        translate(${deltaX}px, ${deltaY}px)\n        scale(${deltaW}, ${deltaH})\n    `\n}\n\nexport const animate = ({ element, trigger, cleanup }) => {\n    return new Promise((resolve) => {\n        // First: get the current bounds\n        const first = element.getBoundingClientRect();\n    \n        // execute the script that causes layout change\n        trigger(element);\n    \n        // Last: get the final bounds\n        const last = element.getBoundingClientRect();\n    \n        \n        element.addEventListener('transitionend', () => {\n            cleanup(element);\n            resolve();\n        }, { once: true })\n    \n        // Play: animate the final element from its first bounds\n        // to its last bounds (which is no transform)\n        element.style.transformOrigin = 'top left',\n        element.style.transform = calculateTransform(first, last);\n    \n        requestAnimationFrame(() => {\n            element.style.transition = `transform 0.7s ease-out`;\n            element.style.transform = 'none';\n        })\n    })\n}\n"],"names":["$8b4d1930797b255e$export$6503ec6e8aabbaf","$8b4d1930797b255e$export$f7ad0328861e2f03","$8b4d1930797b255e$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$bdd9c83e52ee4a1d$export$eba093c1480613f4","$bdd9c83e52ee4a1d$export$27952ba8e194deb2","type","label","color","$bdd9c83e52ee4a1d$export$2cf566a19dc7c06c","$f29cd6c67ea13581$export$bdfd709ae4826697","$f29cd6c67ea13581$var$bundleURL","$f29cd6c67ea13581$var$getBaseURL","url","replace","value","err","matches","stack","match","$f29cd6c67ea13581$var$getBundleURL","$331dc8d2c69503c1$exports","getBundleURL","resolve","$7cb137dbac3fc60d$exports","$1dcf270b38c33c09$exports","$9f9ece8ca1c5cdc3$exports","$4d255f401c2a5abb$export$32180ef41b15b513","$parcel$interopDefault","$e03b58868bb5e8a6$exports","$5b0567ba1d446a28$exports","$94bcfb4253cecc6a$exports","$f45434f75316fd31$exports","$674208a1ae8c375c$export$1e95b668f3b82d","$ac5236b0898501dd$var$$container","document","querySelector","$ac5236b0898501dd$var$$template","$ac5236b0898501dd$var$createBoxBlock","box","$block","content","cloneNode","$button","$label","$top","$body","dataset","classList","add","textContent","src","$ac5236b0898501dd$export$34cf47d258321732","onBoxSelect","selectBox","$boxes","map","replaceChildren","$ac5236b0898501dd$var$fillBoxesContainer","addEventListener","target","$box","closest","$dump","$item","appendChild","remove","removeChild","$ac5236b0898501dd$export$9d647204abd9beb4","enabled","toggle","$c6b17ec897f6e902$export$448332262467e042","array","randomIndex","currentIndex","Math","floor","random","$ef45be419d65d89e$export$32ead0dad9e85a55","source","index","start","end","item","splice","$ecf67d4887edc23a$var$$container","$ecf67d4887edc23a$var$$template","$ecf67d4887edc23a$var$itemsPool","$ecf67d4887edc23a$var$currentItem","$ecf67d4887edc23a$export$fb9705de59d96855","push","$content","$ecf67d4887edc23a$var$createItemBlock","$5f8216526ce5342e$var$$container","$5f8216526ce5342e$var$$right","$5f8216526ce5342e$var$$wrong","$5f8216526ce5342e$var$$badges","querySelectorAll","$5f8216526ce5342e$var$score","right","wrong","$5f8216526ce5342e$var$increaseRight","$5f8216526ce5342e$var$increaseWrong","$5f8216526ce5342e$var$reset","$5f8216526ce5342e$var$setVisibility","visible","forEach","$badge","hidden","$25a4b89758e5e6ed$var$$container","$25a4b89758e5e6ed$var$$elapsed","$25a4b89758e5e6ed$var$$remaining","$faccbe6332e4fb25$var$$container","$faccbe6332e4fb25$var$$right","$faccbe6332e4fb25$var$$wrong","$faccbe6332e4fb25$var$defineNotification","$notification","once","$faccbe6332e4fb25$export$5a0ea189bd2faa1b","$faccbe6332e4fb25$export$bd4ea110d51fab23","$0a25415d88edc2e4$var$score","getScore","$0a25415d88edc2e4$var$$container","$0a25415d88edc2e4$var$$item","$0a25415d88edc2e4$var$$start","$0a25415d88edc2e4$var$$restart","$0a25415d88edc2e4$var$startGame","setVisibility","timeLimit","circleLength","ceil","getTotalLength","setAttribute","requestAnimationFrame","style","transitionDuration","Promise","$25a4b89758e5e6ed$export$35dfe98d8d261cdc","then","$0a25415d88edc2e4$var$restartGame","reset","moveToDump","removeFromDump","increaseRight","increaseWrong","element","trigger","cleanup","first","getBoundingClientRect","last","transformOrigin","transform","left","top","width","height","$1484f8af6cbcb312$var$calculateTransform","transition","$1484f8af6cbcb312$export$e3607ec2d7a891c4"],"version":3,"file":"index.65f99e48.js.map"}